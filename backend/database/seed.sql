-- Flashcard Database Export
-- Generated on 2025-11-15T08:01:59.308Z
-- Total Categories: 10
-- Total Flashcards: 306

-- Categories
INSERT INTO categories (name, slug, description, color, icon) VALUES
    ('Linux Commands', 'linux-commands', 'Essential Linux/Unix command line operations and utilities', '#FFA500', 'üêß'),
    ('Git', 'git', 'Version control commands, workflows, and best practices', '#F05032', 'üìö'),
    ('Kubernetes', 'kubernetes', 'Container orchestration concepts, kubectl commands, and architecture', '#326CE5', '‚ò∏Ô∏è'),
    ('ArgoCD', 'argocd', 'GitOps continuous delivery tool for Kubernetes', '#EF7B4D', 'üöÄ'),
    ('Docker', 'docker', 'Containerization concepts, Docker commands, and best practices', '#2496ED', 'üê≥'),
    ('Computer Science', 'computer-science', 'Algorithms, data structures, time complexity, and fundamentals', '#9B59B6', 'üéì'),
    ('SRE & Observability', 'sre-observability', 'Site Reliability Engineering, monitoring, logging, and metrics', '#E74C3C', 'üìä'),
    ('Networking', 'networking', 'Network protocols, concepts, and troubleshooting', '#16A085', 'üåê'),
    ('SQL', 'sql', 'Database queries, optimization, and design patterns', '#00758F', 'üóÑÔ∏è'),
    ('System Design', 'system-design', 'Architecture patterns, scalability, and design trade-offs', '#34495E', 'üèóÔ∏è');

-- Flashcards for Linux Commands (43 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (1, 'What command lists all files including hidden ones?', 'ls -la', 'easy', 'The -l flag provides long format with details, -a shows all files including hidden ones (starting with .)', NULL),
    (1, 'How do you find all files modified in the last 7 days?', 'find . -mtime -7', 'medium', 'The find command with -mtime -7 searches for files modified within the last 7 days. Use +7 for files older than 7 days.', NULL),
    (1, 'What command shows the last 50 lines of a log file and follows new additions?', 'tail -n 50 -f logfile.log', 'medium', 'tail -n 50 shows last 50 lines, -f (follow) mode continues to output new lines as they are added to the file.', NULL),
    (1, 'How do you check disk usage of all directories in human-readable format?', 'du -h --max-depth=1', 'easy', 'du (disk usage) with -h flag shows human-readable sizes (KB, MB, GB), --max-depth=1 limits to immediate subdirectories.', NULL),
    (1, 'What command searches for a pattern recursively in all files?', 'grep -r "pattern" .', 'easy', 'grep with -r flag searches recursively through all subdirectories from the current location (.)', NULL),
    (1, 'How do you change file permissions to rwxr-xr-x?', 'chmod 755 filename', 'easy', '755 means owner gets rwx (7), group gets r-x (5), others get r-x (5). Each digit is the sum of r=4, w=2, x=1.', NULL),
    (1, 'What command shows running processes in a tree hierarchy?', 'pstree', 'easy', 'pstree displays processes in a tree format showing parent-child relationships. Use ps aux for detailed list.', NULL),
    (1, 'How do you create a compressed tar archive?', 'tar -czf archive.tar.gz directory/', 'medium', '-c creates archive, -z compresses with gzip, -f specifies filename. Use -xzf to extract.', NULL),
    (1, 'What command finds files larger than 100MB?', 'find / -type f -size +100M', 'medium', 'find with -size +100M finds files larger than 100 megabytes. Use -100M for smaller than 100MB.', NULL),
    (1, 'How do you monitor system resource usage in real-time?', 'top', 'easy', 'top shows CPU, memory, and process information updated in real-time. Press q to quit, k to kill process. htop is a more user-friendly alternative.', NULL),
    (1, 'What command shows the path to an executable?', 'which command-name', 'easy', 'which searches PATH and returns the location of the executable. Use whereis for more comprehensive search including man pages.', NULL),
    (1, 'How do you count lines, words, and characters in a file?', 'wc filename', 'easy', 'wc (word count) shows lines, words, and bytes. Use -l for lines only, -w for words only, -c for bytes only.', NULL),
    (1, 'What command shows network connections and listening ports?', 'netstat -tulpn', 'medium', '-t shows TCP, -u shows UDP, -l shows listening, -p shows process, -n shows numeric addresses. Requires sudo for process info.', NULL),
    (1, 'How do you replace text in a file using sed?', 'sed -i ''s/old/new/g'' filename', 'hard', 'sed with -i edits in-place, s substitutes, g replaces all occurrences. Without -i, output goes to stdout.', NULL),
    (1, 'What command shows system boot messages?', 'dmesg', 'easy', 'dmesg displays kernel ring buffer messages from boot and hardware events. Use dmesg | less to page through output.', NULL),
    (1, 'How do you find and kill a process by name?', 'pkill process-name', 'medium', 'pkill sends signal to processes by name. Add -9 for force kill. Alternative: ps aux | grep name | awk ''{print $2}'' | xargs kill', NULL),
    (1, 'What command shows the last 10 commands from history?', 'history 10', 'easy', 'history shows command history. Use !n to re-run command number n, !! for last command, !string for last command starting with string.', NULL),
    (1, 'How do you create a symbolic link?', 'ln -s /path/to/original /path/to/link', 'easy', 'Symbolic link (symlink) is a pointer to another file. -s creates soft link. Without -s creates hard link (direct inode reference).', NULL),
    (1, 'What command shows open files by a process?', 'lsof -p <pid>', 'medium', 'lsof (list open files) shows files, sockets, pipes. Use lsof -i to show network connections, lsof /path to show who''s using a file.', NULL),
    (1, 'How do you run a command immune to hangups?', 'nohup command &', 'medium', 'nohup makes command immune to SIGHUP (hangup signal). Output goes to nohup.out. & runs in background. Alternative: screen or tmux.', NULL),
    (1, 'What command shows file system disk space usage?', 'df -h', 'easy', 'df (disk free) shows disk space for mounted filesystems. -h for human-readable. Use df -i to check inode usage.', NULL),
    (1, 'How do you change file ownership?', 'chown user:group filename', 'easy', 'chown changes ownership. Can use just user or user:group. Add -R for recursive. Requires sudo for files you don''t own.', NULL),
    (1, 'What command displays or sets system hostname?', 'hostname', 'easy', 'hostname shows or sets system name. hostnamectl for systemd systems. /etc/hostname file persists across reboots.', NULL),
    (1, 'How do you compare two files line by line?', 'diff file1 file2', 'easy', 'diff shows differences between files. Use diff -u for unified format, diff -y for side-by-side. cmp for binary files.', NULL),
    (1, 'What command schedules a one-time task?', 'at time', 'medium', 'at schedules one-time execution. Example: echo "script.sh" | at 2:30 PM. atq lists pending, atrm removes. cron for recurring tasks.', NULL),
    (1, 'What is the difference between the tar command with -z and -j options?', 'The -z option compresses the archive using gzip compression, while the -j option compresses the archive using bzip2 compression. Gzip is generally faster but produces larger files, while bzip2 is slower but achieves better compression ratios.', 'medium', 'Both options add compression to tar archives, but they use different algorithms. Gzip (.gz) is the most common and faster option, while bzip2 (.bz2) provides better compression at the cost of speed. Choose based on your priority: speed vs. file size.', '# Using gzip compression
tar -czvf archive.tar.gz files/

# Using bzip2 compression
tar -cjvf archive.tar.bz2 files/'),
    (1, 'How would you extract files from a compressed tar.gz archive?', 'Use the command: tar -xzvf archive.tar.gz. The -x flag extracts files, -z handles gzip decompression, -v enables verbose output, and -f specifies the archive filename.', 'easy', 'Extraction is the reverse of creation. Replace -c (create) with -x (extract) while keeping the compression flag (-z for gzip) to properly decompress and extract the archive contents.', 'tar -xzvf archive.tar.gz

# Extract to specific directory
tar -xzvf archive.tar.gz -C /path/to/destination/'),
    (1, 'What happens to the original file when you use the gzip command on it?', 'The original file is replaced with a compressed version. The file is compressed and renamed with a .gz extension. For example, ''file.txt'' becomes ''file.txt.gz'' and the original uncompressed file is deleted.', 'easy', 'Unlike some compression tools, gzip does not keep the original file by default. To preserve the original file, you need to use the -k (keep) option: gzip -k file.txt', '# Original file is replaced
gzip file.txt
# Result: file.txt.gz (file.txt is deleted)

# Keep original file
gzip -k file.txt
# Result: both file.txt and file.txt.gz exist'),
    (1, 'How would you decompress a .gz file and what command option is used?', 'Use the command: gzip -d file.txt.gz. The -d option stands for decompress and will restore the original uncompressed file.', 'easy', 'The -d flag tells gzip to decompress rather than compress. Alternatively, you can use the gunzip command which is equivalent to gzip -d. After decompression, the .gz file is removed and replaced with the original file.', '# Method 1: using gzip with -d
gzip -d file.txt.gz

# Method 2: using gunzip
gunzip file.txt.gz

# Both produce: file.txt'),
    (1, 'What is the purpose of the -v option in tar commands and when would you use it?', 'The -v option enables verbose mode, which displays the names of files being processed during archive creation or extraction. It''s useful for monitoring progress, debugging, and confirming which files are included in the operation.', 'easy', 'Verbose mode provides real-time feedback about the tar operation. This is particularly helpful when working with large archives, troubleshooting issues, or when you need to verify specific files are being processed correctly.', '# Without verbose - no output
tar -czf archive.tar.gz files/

# With verbose - shows each file
tar -czvf archive.tar.gz files/
# Output:
# files/
# files/file1.txt
# files/file2.txt'),
    (1, 'How would you create a zip archive containing an entire directory and its subdirectories?', 'Use the command: zip -r archive.zip directory/. The -r option recursively includes all files and subdirectories within the specified directory.', 'medium', 'The -r (recursive) flag is essential when archiving directories with zip. Without it, only the directory structure would be added without the files inside subdirectories. This differs from tar which handles directories recursively by default.', '# Recursively zip a directory
zip -r archive.zip myproject/

# Without -r (wrong - misses subdirectory contents)
zip archive.zip myproject/

# Exclude specific files
zip -r archive.zip myproject/ -x ''*.log'''),
    (1, 'What is the difference between tar and zip commands for creating archives?', 'Tar creates tape archives and requires separate compression tools (gzip/bzip2) via options like -z or -j, while zip creates compressed archives in a single step. Tar is more common in Unix/Linux environments and preserves file permissions better, while zip is more universal across different operating systems.', 'medium', 'Tar (tape archive) was originally designed for sequential tape backups and bundles files without compression. Zip combines archiving and compression in one format. Tar with gzip (tar.gz or .tgz) is the standard in Linux, while zip is more compatible with Windows systems.', '# Tar with gzip (two-step process, one command)
tar -czvf archive.tar.gz files/

# Zip (archiving + compression in one)
zip -r archive.zip files/

# Tar preserves permissions, symbolic links better
# Zip is more cross-platform compatible'),
    (1, 'In a production environment, you need to backup a large directory structure efficiently. Which compression method would you choose and why?', 'For large directories, use tar with gzip (tar -czvf) for speed, or tar with bzip2 (tar -cjvf) for better compression. For production backups, gzip is typically preferred because it offers a good balance of compression ratio and speed, allowing faster backup completion times while still reducing storage requirements significantly.', 'hard', 'The choice depends on priorities: gzip is faster and adequate for most cases, bzip2 saves more space but takes longer, and modern alternatives like xz or zstd offer even better options. Consider backup windows, storage costs, and restore time requirements. For very large datasets, parallel compression tools like pigz can utilize multiple CPU cores.', '# Fast backup with gzip (recommended for most cases)
tar -czvf backup-$(date +%Y%m%d).tar.gz /data/

# Maximum compression with bzip2 (slower)
tar -cjvf backup-$(date +%Y%m%d).tar.bz2 /data/

# Parallel gzip for speed on multi-core systems
tar -c /data/ | pigz > backup-$(date +%Y%m%d).tar.gz'),
    (1, 'What command would you use to display all system information including kernel name, version, and hardware architecture in a single command?', 'uname -a', 'easy', 'The uname command prints system information, and the -a flag displays all available system information including kernel name, network node hostname, kernel release, kernel version, machine hardware name, processor type, hardware platform, and operating system.', 'uname -a
# Output example: Linux hostname 5.4.0-42-generic #46-Ubuntu SMP x86_64 GNU/Linux'),
    (1, 'How would you check the disk space usage of all mounted filesystems in a human-readable format (GB, MB)?', 'df -h', 'easy', 'The df (disk free) command shows disk space usage of filesystems. The -h option converts the output to human-readable format using units like GB, MB, and KB instead of raw byte counts, making it easier to interpret.', 'df -h
# Output shows filesystem, size, used, available, use%, and mounted on'),
    (1, 'What is the difference between ''df'' and ''du'' commands, and when would you use each?', 'df shows disk space usage at the filesystem level (overall disk usage), while du estimates file and directory space usage at the file/directory level. Use df to check overall disk space availability, and du to find which directories or files are consuming space.', 'medium', 'df operates on mounted filesystems and shows total, used, and available space for entire partitions. du traverses directories and calculates actual disk usage of files and folders. In troubleshooting, you''d use df to identify if a disk is full, then use du to find what''s consuming the space.', 'df -h /home
du -sh /home/user/*
# df shows partition stats, du shows per-directory usage'),
    (1, 'How would you quickly find the total size of a specific directory without seeing subdirectory details?', 'du -sh directory/', 'medium', 'The du command with -s (summarize) displays only the total size, and -h (human-readable) formats it in KB/MB/GB. Without -s, du would show sizes for all subdirectories as well, which can be overwhelming for large directory trees.', 'du -sh /var/log/
# Output: 2.3G    /var/log/'),
    (1, 'What command would you use during an interview to check if a system is running out of memory, and what key metrics would you look for?', 'free -h. Key metrics to check: available memory, swap usage, and buffers/cache. High swap usage with low available memory indicates memory pressure.', 'medium', 'The free command displays memory usage including total, used, free, shared, buff/cache, and available memory. The -h flag makes it human-readable. In production systems, high swap usage combined with low available memory suggests the system needs more RAM or memory optimization.', 'free -h
# Check ''available'' column and ''Swap used''
# High swap + low available = memory pressure'),
    (1, 'If you need to diagnose system performance issues, which command would show how long the system has been running and the current load average?', 'uptime', 'easy', 'The uptime command displays the current time, how long the system has been running, number of logged-in users, and the load average for the past 1, 5, and 15 minutes. Load averages help identify if the system is overloaded - values higher than the number of CPU cores indicate potential performance issues.', 'uptime
# Output: 14:23:45 up 10 days, 3:24, 2 users, load average: 0.52, 0.58, 0.59'),
    (1, 'What command would you use to identify the CPU architecture, number of cores, and CPU model during system auditing?', 'lscpu', 'easy', 'lscpu gathers and displays CPU architecture information from /proc/cpuinfo in a structured format. It shows details like architecture (x86_64, ARM), CPU op-modes, cores per socket, threads per core, CPU model name, and cache sizes - essential for capacity planning and performance optimization.', 'lscpu
# Shows: Architecture, CPU(s), Thread(s) per core, Model name, CPU MHz, Caches'),
    (1, 'How would you list all PCI devices to check if a network card or graphics card is properly detected by the system?', 'lspci', 'easy', 'lspci lists all PCI (Peripheral Component Interconnect) devices connected to the system, including network cards, graphics cards, storage controllers, and USB controllers. This is useful for hardware troubleshooting to verify if devices are detected at the hardware level.', 'lspci
# To see more details:
lspci -v
# To filter for network cards:
lspci | grep -i network'),
    (1, 'What is the quickest way to verify if a USB device is recognized by the Linux system?', 'lsusb', 'easy', 'lsusb lists all USB devices connected to the system. It shows the bus number, device number, USB ID (vendor:product), and device name. This is the first step in troubleshooting USB device issues - if the device doesn''t appear in lsusb output, it''s either a hardware connection problem or the device is faulty.', 'lsusb
# Output: Bus 001 Device 003: ID 046d:c52b Logitech, Inc. Unifying Receiver
# For more details:
lsusb -v'),
    (1, 'In a troubleshooting scenario, you need to quickly identify which user account is running a script. Which command provides this information?', 'whoami', 'easy', 'whoami displays the username of the current effective user. This is particularly useful when troubleshooting permission issues, verifying service account context, or confirming successful user switching with su or sudo. It''s simpler than checking environment variables like $USER or running ''id'' command.', 'whoami
# Output: username
# Compare with: sudo whoami
# Output: root');

-- Flashcards for Git (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (2, 'How do you undo the last commit but keep the changes?', 'git reset --soft HEAD~1', 'medium', '--soft keeps changes staged, HEAD~1 refers to one commit before HEAD. Use --mixed to unstage or --hard to discard changes.', NULL),
    (2, 'What command shows the commit history in a compact one-line format?', 'git log --oneline', 'easy', '--oneline flag shows abbreviated commit hash and message on a single line. Add --graph for visual branch structure.', NULL),
    (2, 'How do you rebase your current branch onto main?', 'git rebase main', 'medium', 'Rebasing replays your commits on top of main branch. Use git rebase --continue after resolving conflicts.', NULL),
    (2, 'What command shows which commit and author last modified each line of a file?', 'git blame filename', 'easy', 'git blame annotates each line with the commit hash, author, and timestamp of the last modification.', NULL),
    (2, 'How do you create and switch to a new branch in one command?', 'git checkout -b branch-name', 'easy', 'The -b flag creates a new branch and switches to it. In Git 2.23+, you can also use: git switch -c branch-name', NULL),
    (2, 'How do you stash changes including untracked files?', 'git stash -u', 'medium', '-u includes untracked files in the stash. Use git stash pop to apply and remove stash, or git stash apply to keep it.', NULL),
    (2, 'What command shows the difference between two branches?', 'git diff branch1..branch2', 'medium', 'Shows differences between two branches. Use --name-only to see just filenames, or --stat for summary statistics.', NULL),
    (2, 'How do you amend the last commit message?', 'git commit --amend', 'easy', '--amend replaces the last commit with a new one. Add -m "new message" to change message without editor. WARNING: Don''t amend pushed commits.', NULL),
    (2, 'What command shows all branches including remotes?', 'git branch -a', 'easy', '-a shows all branches (local and remote). Use -r for remote only, -v for verbose with last commit info.', NULL),
    (2, 'How do you cherry-pick a commit from another branch?', 'git cherry-pick <commit-hash>', 'medium', 'Cherry-pick applies a specific commit to your current branch. Use -x to add source reference in commit message.', NULL),
    (2, 'What is the difference between merge and rebase?', 'Merge creates a merge commit preserving history; rebase replays commits creating linear history', 'hard', 'Merge is safer for public branches, rebase makes cleaner history but rewrites commit history.', NULL),
    (2, 'How do you undo changes to a specific file?', 'git checkout -- filename', 'medium', 'Discards unstaged changes to a file, reverting to last commit. In Git 2.23+: git restore filename', NULL),
    (2, 'What command shows which files are tracked by Git?', 'git ls-files', 'easy', 'Lists all files currently tracked by Git. Use git ls-files --others to see untracked files.', NULL),
    (2, 'How do you delete a remote branch?', 'git push origin --delete branch-name', 'medium', 'Deletes the branch from remote repository. Also works: git push origin :branch-name (push empty to branch)', NULL),
    (2, 'What command finds commits that introduced or removed a string?', 'git log -S "search-string"', 'hard', 'The -S option (pickaxe) finds commits that changed the number of occurrences of a string. Use -G for regex search.', NULL),
    (2, 'How do you view changes between working directory and staging area?', 'git diff', 'easy', 'git diff shows unstaged changes. git diff --staged shows staged changes. git diff HEAD shows all changes from last commit.', NULL),
    (2, 'What command shows remote repository URLs?', 'git remote -v', 'easy', '-v shows fetch and push URLs. git remote add name url adds new remote. git remote show origin for detailed info.', NULL),
    (2, 'How do you fetch and merge in one command?', 'git pull', 'easy', 'git pull = git fetch + git merge. Use git pull --rebase to rebase instead of merge. Specify branch: git pull origin main', NULL),
    (2, 'What is git reflog used for?', 'Shows history of HEAD movements, useful for recovering lost commits', 'hard', 'reflog tracks all reference updates even after rebases or resets. Use to recover "lost" commits. Entries expire after 90 days.', NULL),
    (2, 'How do you temporarily save work without committing?', 'git stash', 'medium', 'Stashes uncommitted changes. git stash pop applies and removes, git stash apply keeps stash. git stash list shows all stashes.', NULL),
    (2, 'What command removes untracked files?', 'git clean -fd', 'medium', '-f forces removal, -d removes directories. Add -n for dry run (preview). WARNING: This permanently deletes files!', NULL),
    (2, 'How do you show commits by a specific author?', 'git log --author="name"', 'medium', 'Filters commit history by author. Combine with other flags: git log --author="name" --since="2 weeks ago" --oneline', NULL),
    (2, 'What is the difference between merge --squash and regular merge?', 'Squash combines all commits into one; regular merge preserves individual commits', 'hard', 'Squash creates single commit with all changes, loses individual commit history. Useful for cleaning up feature branch history.', NULL),
    (2, 'How do you tag a specific commit?', 'git tag tag-name commit-hash', 'medium', 'Tags mark specific points in history (releases). Lightweight: git tag v1.0. Annotated: git tag -a v1.0 -m "message". Push: git push --tags', NULL),
    (2, 'What command shows the graph of branches?', 'git log --graph --oneline --all', 'medium', '--graph shows ASCII branch structure, --all includes all branches. Add --decorate to show branch/tag names.', NULL);

-- Flashcards for Kubernetes (36 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (3, 'What command gets all pods in all namespaces?', 'kubectl get pods --all-namespaces or kubectl get pods -A

Both commands display all pods across every namespace in your Kubernetes cluster. The -A flag is the shorthand version of --all-namespaces. The output shows pod name, ready status, restart count, age, and the namespace each pod belongs to. This is essential for getting a cluster-wide view of running workloads.', 'easy', 'This command is crucial for cluster administrators and DevOps engineers who need visibility across the entire cluster. By default, kubectl commands only show resources in the current namespace (or ''default'' if not specified), which can hide problems in other namespaces.

Common use cases include: troubleshooting cluster-wide issues (finding crashed pods anywhere), auditing resource usage across teams/projects (each using different namespaces), monitoring during deployments, and investigating performance issues. For example, if users report slow application response, you might run this command to check if any pods are in CrashLoopBackOff state in any namespace.

Pro tip: Combine with -o wide to see which nodes pods are running on, or add --watch to monitor pods in real-time. You can also use grep to filter results: kubectl get pods -A | grep -i error.', '# Basic command - shows all pods across all namespaces
kubectl get pods --all-namespaces

# Shorthand version (recommended)
kubectl get pods -A

# With additional details (node, IP)
kubectl get pods -A -o wide

# Watch for changes in real-time
kubectl get pods -A --watch

# Filter by status or name pattern
kubectl get pods -A | grep -E ''CrashLoop|Error''

# Formatted output with custom columns
kubectl get pods -A -o custom-columns=NAMESPACE:.metadata.namespace,NAME:.metadata.name,STATUS:.status.phase,NODE:.spec.nodeName'),
    (3, 'How do you scale a deployment to 5 replicas?', 'To scale a deployment to 5 replicas, use: `kubectl scale deployment/my-deployment --replicas=5`. You can also use shorter syntax like `kubectl scale deploy my-deployment --replicas=5`. The command updates the deployment''s desired replica count, and Kubernetes automatically creates or terminates pods to match this number. You can verify the scaling with `kubectl get deployment my-deployment` or watch the changes in real-time using `kubectl get pods -w`.', 'easy', 'Scaling deployments is a fundamental Kubernetes operation for handling varying workloads. In production, you might scale up during peak hours (e.g., scaling a web application from 3 to 10 replicas during Black Friday sales) or scale down during off-peak times to save resources. The scaling operation is declarative - Kubernetes reconciles the current state with the desired state by gradually creating new pods or gracefully terminating excess ones. This ensures zero-downtime scaling for stateless applications. Alternative approaches include: editing the deployment YAML directly (`kubectl edit deployment my-deployment`), applying an updated manifest file, or using Horizontal Pod Autoscaler (HPA) for automatic scaling based on CPU/memory metrics. The scale command is immediate but pod creation time depends on factors like image pull time, resource availability, and readiness probes.', '# Scale deployment to 5 replicas
kubectl scale deployment/my-deployment --replicas=5

# Verify the scaling operation
kubectl get deployment my-deployment
# Output shows READY, UP-TO-DATE, AVAILABLE columns

# Watch pods being created/terminated in real-time
kubectl get pods -l app=my-app -w

# Scale using deployment manifest (alternative)
kubectl patch deployment my-deployment -p ''{"spec":{"replicas":5}}''

# Check rollout status
kubectl rollout status deployment/my-deployment'),
    (3, 'What is a Pod in Kubernetes?', 'The smallest deployable unit that can contain one or more containers', 'easy', 'Pods share network namespace and storage volumes. They are ephemeral and typically managed by higher-level controllers.', NULL),
    (3, 'How do you view logs from a specific pod?', 'kubectl logs pod-name', 'easy', 'Add -f to follow logs in real-time. Use -c container-name for multi-container pods. --previous shows logs from crashed containers.', NULL),
    (3, 'What command describes detailed information about a resource?', 'kubectl describe <resource-type> <resource-name>', 'easy', 'describe shows detailed info including events. Example: kubectl describe pod my-pod-123', NULL),
    (3, 'What is a Service in Kubernetes?', 'An abstraction that defines a logical set of Pods and a policy to access them', 'medium', 'Services provide stable IP addresses and DNS names for accessing Pods, even as Pods are created and destroyed.', NULL),
    (3, 'How do you execute a command inside a running pod?', 'kubectl exec -it pod-name -- command', 'easy', '-it provides interactive terminal. For multiple containers, add -c container-name. Example: kubectl exec -it my-pod -- /bin/bash', NULL),
    (3, 'What are the main types of Kubernetes Services?', 'ClusterIP, NodePort, LoadBalancer, and ExternalName', 'medium', 'ClusterIP (default) is internal only, NodePort exposes on node IP, LoadBalancer uses cloud provider, ExternalName maps to DNS.', NULL),
    (3, 'How do you create a ConfigMap from a file?', 'kubectl create configmap name --from-file=path/to/file', 'medium', 'ConfigMaps store non-sensitive configuration data. Use --from-literal for key-value pairs: kubectl create configmap name --from-literal=key=value', NULL),
    (3, 'What is a Namespace in Kubernetes?', 'A virtual cluster for organizing and isolating resources', 'easy', 'Namespaces provide scope for resource names and can have resource quotas. Default namespace is "default".', NULL),
    (3, 'How do you roll back a deployment to previous version?', 'kubectl rollout undo deployment/name', 'medium', 'Undo reverts to previous revision. Use --to-revision=N for specific version. Check history with: kubectl rollout history deployment/name', NULL),
    (3, 'What command applies a YAML configuration file?', 'kubectl apply -f filename.yaml', 'easy', 'apply creates or updates resources from YAML. Use -f for file, -k for kustomize directory, or - for stdin.', NULL),
    (3, 'What is a DaemonSet?', 'A controller that ensures all (or some) nodes run a copy of a Pod', 'medium', 'DaemonSets are typically used for node-level services like log collectors, monitoring agents, or network plugins.', NULL),
    (3, 'How do you get resource usage of nodes?', 'kubectl top nodes', 'easy', 'Shows CPU and memory usage of nodes. Requires Metrics Server. Use kubectl top pods for pod-level metrics.', NULL),
    (3, 'What is the difference between a Deployment and StatefulSet?', 'Deployments manage stateless apps; StatefulSets manage stateful apps with stable network identities', 'hard', 'StatefulSets provide ordered deployment, stable hostnames, and persistent storage per pod. Deployments treat pods as interchangeable.', NULL),
    (3, 'What is a ReplicaSet?', 'Ensures a specified number of pod replicas are running at any time', 'medium', 'Usually managed by Deployment. Maintains desired replica count, creates/deletes pods as needed. Selects pods using labels.', NULL),
    (3, 'How do you port-forward to a pod?', 'kubectl port-forward pod-name local-port:pod-port', 'easy', 'Creates tunnel from local machine to pod. Example: kubectl port-forward my-pod 8080:80 accesses pod port 80 on localhost:8080', NULL),
    (3, 'What is a PersistentVolumeClaim (PVC)?', 'A request for storage by a user', 'medium', 'PVC is a request, PV is the actual storage. Pod uses PVC, cluster binds PVC to available PV matching requirements.', NULL),
    (3, 'How do you edit a resource in-place?', 'kubectl edit <resource-type> <name>', 'easy', 'Opens resource in editor (vim/nano). Changes applied on save. Example: kubectl edit deployment my-app', NULL),
    (3, 'What is a Kubernetes Secret?', 'Object that stores sensitive data like passwords, tokens, or keys', 'easy', 'Base64 encoded (not encrypted). Mounted as files or environment variables. Use external secrets manager for production.', NULL),
    (3, 'How do you see resource usage of pods?', 'kubectl top pod', 'easy', 'Shows CPU and memory usage. Requires Metrics Server. Add --containers for per-container metrics, -n namespace for specific namespace.', NULL),
    (3, 'What is the difference between a Job and CronJob?', 'Job runs once to completion; CronJob runs Jobs on a schedule', 'medium', 'Job ensures pods successfully complete. CronJob uses cron syntax for scheduling. Example: backup jobs, batch processing.', NULL),
    (3, 'How do you drain a node for maintenance?', 'kubectl drain node-name --ignore-daemonsets', 'medium', 'Safely evicts all pods from node. --ignore-daemonsets skips DaemonSet pods. kubectl uncordon node-name to re-enable scheduling.', NULL),
    (3, 'What is an Ingress?', 'Manages external access to services, typically HTTP/HTTPS', 'medium', 'Provides load balancing, SSL termination, name-based virtual hosting. Requires Ingress Controller (nginx, traefik, etc.).', NULL),
    (3, 'How do you copy files from a pod to local machine?', 'kubectl cp pod-name:/path/to/file ./local-path', 'medium', 'Works both directions. For multi-container pods: kubectl cp pod-name:/path ./local -c container-name', NULL),
    (3, 'What is BGP (Border Gateway Protocol)?', 'Protocol that routes traffic between autonomous systems on the internet', 'hard', 'Path vector protocol. Exchanges routing information between ISPs. Policy-based routing. Critical for internet infrastructure.', NULL),
    (3, 'What is ETCDCTL?', 'The CLI tool used to interact with ETCD', 'easy', 'ETCDCTL is the command-line interface for managing and querying the ETCD distributed key-value store, which stores Kubernetes cluster state.', NULL),
    (3, 'What are the two API versions ETCDCTL supports?', 'Version 2 and Version 3', 'easy', 'ETCDCTL can interact with ETCD using either API version 2 or version 3. Each version has different commands and capabilities.', NULL),
    (3, 'What is the default ETCDCTL API version?', 'Version 2', 'medium', 'When the ETCDCTL_API environment variable is not set, ETCDCTL defaults to API version 2. This means version 3 commands won''t work without explicitly setting the version.', NULL),
    (3, 'How do you set ETCDCTL to use API version 3?', 'export ETCDCTL_API=3', 'easy', 'Set the environment variable ETCDCTL_API=3 to enable version 3 commands. Without this, version 3 commands like "snapshot save" and "get" will not work.', NULL),
    (3, 'Name three ETCDCTL version 2 commands', 'etcdctl backup, etcdctl cluster-health, etcdctl mk, etcdctl mkdir, etcdctl set', 'medium', 'Version 2 commands include backup (backup ETCD data), cluster-health (check cluster status), mk (make key), mkdir (make directory), and set (set key value).', NULL),
    (3, 'Name three ETCDCTL version 3 commands', 'etcdctl snapshot save, etcdctl endpoint health, etcdctl get, etcdctl put', 'medium', 'Version 3 commands include snapshot save (backup), endpoint health (check health), get (retrieve key), and put (store key-value). These differ from version 2 commands.', NULL),
    (3, 'Why does ETCDCTL require certificate files?', 'To authenticate to the ETCD API Server', 'medium', 'ETCD uses TLS for secure communication. You must specify --cacert, --cert, and --key flags pointing to certificate files to authenticate ETCDCTL commands.', NULL),
    (3, 'Where are ETCD certificate files typically located?', '/etc/kubernetes/pki/etcd/', 'medium', 'Certificate files are usually at /etc/kubernetes/pki/etcd/ including ca.crt (CA certificate), server.crt (server certificate), and server.key (server key).', NULL),
    (3, 'What three certificate flags are needed for ETCDCTL commands?', '--cacert, --cert, and --key', 'hard', '--cacert specifies the CA certificate, --cert specifies the client certificate, --key specifies the client key. All three are required for authenticated ETCDCTL operations.', NULL),
    (3, 'How do you execute ETCDCTL inside a Kubernetes etcd pod?', 'kubectl exec etcd-controlplane -n kube-system -- sh -c "ETCDCTL_API=3 etcdctl command"', 'hard', 'Use kubectl exec to run commands in the etcd pod. Must set ETCDCTL_API=3 and include certificate flags for authentication. The etcd pod typically runs in kube-system namespace.', NULL);

-- Flashcards for ArgoCD (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (4, 'What is GitOps?', 'A deployment methodology where Git serves as the single source of truth for declarative infrastructure and applications', 'easy', 'Changes are made via Git commits, and automated processes sync the desired state to the cluster.', NULL),
    (4, 'How do you sync an ArgoCD application from the CLI?', 'argocd app sync <app-name>', 'easy', 'Sync triggers ArgoCD to apply the latest Git state to the cluster. Add --force for hard refresh.', NULL),
    (4, 'What are the three main sync strategies in ArgoCD?', 'Manual, Automatic, and Automated with self-heal', 'medium', 'Manual requires explicit sync, Automatic syncs on Git changes, Self-heal also reverts manual cluster changes.', NULL),
    (4, 'How do you view the sync status of all applications?', 'argocd app list', 'easy', 'Lists all applications with their sync status, health status, and repository details.', NULL),
    (4, 'What is the purpose of an ArgoCD Application resource?', 'It defines the relationship between a Git repository and a Kubernetes cluster destination', 'medium', 'Applications specify source repo, target cluster, sync policy, and which manifests to deploy.', NULL),
    (4, 'How do you get detailed information about an ArgoCD application?', 'argocd app get <app-name>', 'easy', 'Shows detailed status including sync state, health, last sync time, parameters, and resources deployed.', NULL),
    (4, 'What is auto-prune in ArgoCD?', 'Automatically deletes resources that no longer exist in Git', 'medium', 'When enabled, resources removed from Git are deleted from the cluster during sync. Useful but potentially dangerous.', NULL),
    (4, 'How do you create a new ArgoCD application from CLI?', 'argocd app create <name> --repo <repo-url> --path <path> --dest-server <server> --dest-namespace <namespace>', 'hard', 'Creates an Application resource. Can also use kubectl apply with Application YAML manifest.', NULL),
    (4, 'What does "OutOfSync" status mean in ArgoCD?', 'The live cluster state differs from the desired state in Git', 'easy', 'OutOfSync indicates drift. Can be caused by manual changes, Git commits not yet synced, or sync failures.', NULL),
    (4, 'How do you view the diff between Git and cluster?', 'argocd app diff <app-name>', 'medium', 'Shows differences between desired state (Git) and actual state (cluster). Useful before syncing.', NULL),
    (4, 'What is an ArgoCD ApplicationSet?', 'A template for generating multiple ArgoCD Applications automatically', 'hard', 'ApplicationSets use generators (Git, List, Cluster, etc.) to create Applications dynamically from templates.', NULL),
    (4, 'How do you hard refresh an application?', 'argocd app get <app-name> --hard-refresh', 'medium', 'Forces refresh of cached Git state. Useful when ArgoCD hasn''t detected recent Git changes.', NULL),
    (4, 'What is the sync-wave annotation used for?', 'Controls the order in which resources are synced', 'hard', 'argocd.argoproj.io/sync-wave: "N" - Lower numbers sync first. Used for dependency management (e.g., namespace before pods).', NULL),
    (4, 'How do you view ArgoCD application events?', 'kubectl describe application <app-name> -n argocd', 'medium', 'Applications are Kubernetes resources, so kubectl describe shows events. Or use argocd app get for ArgoCD-specific info.', NULL),
    (4, 'What is a sync hook in ArgoCD?', 'A resource that runs at specific points during sync (PreSync, Sync, PostSync, SyncFail)', 'hard', 'Hooks are annotated resources (usually Jobs) that run for tasks like DB migrations, notifications, or validation.', NULL),
    (4, 'What is auto-sync in ArgoCD?', 'Automatically syncs application when Git repository changes are detected', 'easy', 'Enabled in Application spec. Eliminates manual sync but requires careful testing. Can combine with automated pruning and self-heal.', NULL),
    (4, 'How do you delete an ArgoCD application?', 'argocd app delete <app-name>', 'easy', 'Deletes Application resource. Add --cascade to delete all deployed resources. Without --cascade, resources remain in cluster.', NULL),
    (4, 'What is the purpose of finalizers in ArgoCD?', 'Control application deletion behavior and resource cleanup', 'hard', 'resources-finalizer.argocd.argoproj.io ensures deployed resources are deleted. Remove finalizer to keep resources after app deletion.', NULL),
    (4, 'How do you view application logs in ArgoCD?', 'argocd app logs <app-name>', 'easy', 'Shows logs from application pods. Add --follow for streaming. Useful for debugging deployment issues.', NULL),
    (4, 'What is a sync retry in ArgoCD?', 'Automatic retry mechanism when sync fails', 'medium', 'Configurable backoff strategy. Helps with transient failures like webhook timeouts or temporary network issues.', NULL),
    (4, 'How do you rollback an ArgoCD application?', 'argocd app rollback <app-name> <revision>', 'medium', 'Syncs to a previous Git revision. View history with: argocd app history <app-name>. Alternative: revert Git commit and sync.', NULL),
    (4, 'What is resource health assessment?', 'ArgoCD evaluates if resources are healthy/progressing/degraded/suspended', 'medium', 'Built-in health checks for common resources. Custom health checks possible via ConfigMap. Shown in UI and CLI.', NULL),
    (4, 'How do you pause auto-sync temporarily?', 'argocd app set <app-name> --sync-policy none', 'medium', 'Disables auto-sync. Re-enable with: argocd app set <app-name> --sync-policy automated. Useful during maintenance.', NULL),
    (4, 'What is project in ArgoCD?', 'Logical grouping of applications with policies and restrictions', 'hard', 'Projects provide multi-tenancy. Define allowed sources (repos), destinations (clusters), and resource kinds. RBAC per project.', NULL),
    (4, 'How do you force refresh application cache?', 'argocd app get <app-name> --refresh', 'easy', 'Forces ArgoCD to query Git and cluster for latest state. Useful when changes aren''t detected. --hard-refresh for complete cache clear.', NULL);

-- Flashcards for Docker (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (5, 'What command builds a Docker image from a Dockerfile?', 'docker build -t image-name:tag .', 'easy', '-t tags the image with a name and optional version tag. The . specifies build context (current directory).', NULL),
    (5, 'How do you run a container in detached mode with port mapping?', 'docker run -d -p 8080:80 image-name', 'easy', '-d runs in background (detached), -p maps host port 8080 to container port 80.', NULL),
    (5, 'What is the difference between CMD and ENTRYPOINT in Dockerfile?', 'ENTRYPOINT sets the main command that always runs, CMD provides default arguments that can be overridden', 'medium', 'ENTRYPOINT + CMD together allow flexible container execution. ENTRYPOINT rarely changes, CMD provides defaults.', NULL),
    (5, 'How do you view logs from a running container?', 'docker logs container-id', 'easy', 'Add -f to follow logs in real-time, --tail N to show last N lines, --since to filter by timestamp.', NULL),
    (5, 'What command removes all stopped containers?', 'docker container prune', 'easy', 'Prune commands clean up unused resources. Add -a to remove all unused containers, not just stopped ones.', NULL),
    (5, 'How do you list all containers including stopped ones?', 'docker ps -a', 'easy', '-a shows all containers. Without it, only running containers are shown. Use --format for custom output.', NULL),
    (5, 'What command removes all stopped containers?', 'docker container prune', 'easy', 'Prune removes all stopped containers. Add -f to skip confirmation. Use docker system prune for containers, images, networks.', NULL),
    (5, 'How do you copy files from container to host?', 'docker cp container-name:/path/to/file /host/path', 'medium', 'Works both ways: container to host or host to container. Container can be running or stopped.', NULL),
    (5, 'What is the difference between CMD and ENTRYPOINT?', 'CMD provides default arguments that can be overridden; ENTRYPOINT sets the main command that cannot be overridden', 'hard', 'Use ENTRYPOINT for the main executable, CMD for default arguments. Both together: ENTRYPOINT + CMD arguments.', NULL),
    (5, 'How do you view logs from a container?', 'docker logs container-name', 'easy', 'Add -f to follow logs in real-time, --tail N to show last N lines, --since to filter by time.', NULL),
    (5, 'What command shows resource usage of running containers?', 'docker stats', 'easy', 'Shows CPU, memory, network I/O, and disk I/O for all running containers in real-time. Add container name for specific container.', NULL),
    (5, 'How do you create a volume for persistent data?', 'docker volume create volume-name', 'medium', 'Volumes persist data outside container lifecycle. Mount with: docker run -v volume-name:/path/in/container image', NULL),
    (5, 'What is a multi-stage build?', 'A Dockerfile with multiple FROM statements to create smaller final images', 'hard', 'Build artifacts in one stage, copy only needed files to final stage. Reduces image size and attack surface.', NULL),
    (5, 'How do you tag an image with multiple tags?', 'docker tag image-id name:tag1 && docker tag image-id name:tag2', 'medium', 'Or build with multiple -t flags: docker build -t name:tag1 -t name:tag2 . Tags are just references to same image.', NULL),
    (5, 'What command shows image layers and sizes?', 'docker history image-name', 'medium', 'Displays layer history showing commands that created each layer and their sizes. Useful for optimizing image size.', NULL),
    (5, 'What is the difference between ADD and COPY in Dockerfile?', 'COPY only copies files; ADD can also extract archives and fetch URLs', 'medium', 'Best practice: use COPY unless you need ADD''s extra features. ADD auto-extracts tar files, COPY is more explicit.', NULL),
    (5, 'How do you see all layers of an image?', 'docker image inspect image-name', 'medium', 'Shows detailed JSON including layers, config, environment. Use docker history for layer sizes and commands.', NULL),
    (5, 'What is a Docker network?', 'Virtual network for containers to communicate', 'medium', 'Types: bridge (default), host, none, custom. Containers on same network can communicate by name. Isolates container traffic.', NULL),
    (5, 'How do you limit container memory?', 'docker run -m 512m image-name', 'medium', '-m or --memory sets limit. Container killed if exceeded (OOMKilled). Use --memory-swap for swap limit.', NULL),
    (5, 'What is the difference between docker stop and docker kill?', 'stop sends SIGTERM then SIGKILL; kill sends SIGKILL immediately', 'medium', 'stop allows graceful shutdown (10s default). kill forces immediate termination. stop is safer for databases/services.', NULL),
    (5, 'How do you run a container in read-only mode?', 'docker run --read-only image-name', 'medium', 'Root filesystem is read-only. Use --tmpfs for writable temp directories. Security best practice to prevent malware writing files.', NULL),
    (5, 'What is Docker Compose?', 'Tool for defining and running multi-container applications using YAML', 'easy', 'docker-compose.yml defines services, networks, volumes. Commands: docker-compose up, down, ps, logs. Version 2+ integrates with Docker CLI.', NULL),
    (5, 'How do you inspect container processes?', 'docker top container-name', 'easy', 'Shows running processes inside container. Similar to ps command but for container. Useful for debugging.', NULL),
    (5, 'What is the difference between image and container?', 'Image is immutable template; container is running instance of an image', 'easy', 'Image is like a class, container is an instance. One image can create many containers. Containers add writable layer.', NULL),
    (5, 'How do you export and import images?', 'docker save -o file.tar image-name && docker load -i file.tar', 'medium', 'save/load for images. export/import for containers. save preserves layers and metadata, export flattens to single layer.', NULL);

-- Flashcards for Computer Science (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (6, 'What is the time complexity of binary search?', 'O(log n)', 'easy', 'Binary search halves the search space each iteration, resulting in logarithmic time complexity.', NULL),
    (6, 'What is a hash table collision?', 'When two different keys hash to the same index in the hash table', 'easy', 'Common resolution strategies include chaining (linked lists) and open addressing (probing).', NULL),
    (6, 'What is the difference between a stack and a queue?', 'Stack is LIFO (Last In First Out), Queue is FIFO (First In First Out)', 'easy', 'Stack operations: push/pop from top. Queue operations: enqueue at rear, dequeue from front.', NULL),
    (6, 'What is Big O notation?', 'A mathematical notation describing the upper bound of an algorithm''s time or space complexity', 'easy', 'It describes worst-case performance as input size grows. Common: O(1), O(log n), O(n), O(n¬≤), O(2‚Åø).', NULL),
    (6, 'What is the difference between depth-first and breadth-first search?', 'DFS explores as far as possible along each branch before backtracking; BFS explores all neighbors before moving to next level', 'medium', 'DFS uses a stack (or recursion), BFS uses a queue. Different use cases: DFS for paths, BFS for shortest paths.', NULL),
    (6, 'What is Big O notation?', 'A mathematical notation describing the upper bound of algorithm time/space complexity as input size grows', 'medium', 'O(1) constant, O(log n) logarithmic, O(n) linear, O(n log n) linearithmic, O(n¬≤) quadratic, O(2‚Åø) exponential.', NULL),
    (6, 'What is the difference between a stack and a queue?', 'Stack is LIFO (Last In First Out); Queue is FIFO (First In First Out)', 'easy', 'Stack: push/pop from top. Queue: enqueue at rear, dequeue from front. Stack for recursion/undo, queue for task scheduling.', NULL),
    (6, 'What is a hash table and what is its average time complexity?', 'A data structure that maps keys to values using a hash function; O(1) average for insert/delete/lookup', 'medium', 'Hash function computes index from key. Collisions handled by chaining or open addressing. Worst case O(n) with many collisions.', NULL),
    (6, 'What is the time complexity of binary search?', 'O(log n)', 'easy', 'Binary search divides search space in half each iteration. Requires sorted array. Much faster than linear search O(n).', NULL),
    (6, 'What is a binary tree vs a binary search tree?', 'Binary tree has up to 2 children per node; BST has left < parent < right ordering property', 'medium', 'BST enables O(log n) search when balanced. Binary tree without ordering is just a structure constraint.', NULL),
    (6, 'What is dynamic programming?', 'An optimization technique that solves complex problems by breaking them into overlapping subproblems and storing results', 'hard', 'Two approaches: top-down (memoization) and bottom-up (tabulation). Trades space for time by caching subproblem solutions.', NULL),
    (6, 'What is the difference between depth-first and breadth-first search?', 'DFS explores as far as possible down each branch; BFS explores all neighbors before going deeper', 'medium', 'DFS uses stack (or recursion), BFS uses queue. DFS for path finding, BFS for shortest path in unweighted graphs.', NULL),
    (6, 'What is a linked list and when would you use it?', 'A data structure with nodes containing data and reference to next node; efficient for insertions/deletions', 'easy', 'O(1) insert/delete at known position, O(n) search. Use when frequent insertions/deletions, size unknown, or sequential access.', NULL),
    (6, 'What is the CAP theorem?', 'A distributed system can provide at most 2 of 3: Consistency, Availability, Partition tolerance', 'hard', 'Partition tolerance is required in distributed systems, so choose between consistency (CP) or availability (AP).', NULL),
    (6, 'What is quicksort and what is its average time complexity?', 'A divide-and-conquer sorting algorithm using a pivot element; O(n log n) average', 'medium', 'Partitions array around pivot, recursively sorts subarrays. Worst case O(n¬≤) with bad pivot. In-place, not stable.', NULL),
    (6, 'What is a graph and name its types?', 'A collection of nodes (vertices) connected by edges; types: directed, undirected, weighted, unweighted', 'medium', 'Used for networks, maps, dependencies. Traversal: DFS, BFS. Common problems: shortest path, cycle detection, topological sort.', NULL),
    (6, 'What is memoization?', 'Optimization technique that stores function results to avoid repeated calculations', 'medium', 'Key technique in dynamic programming. Trade space for time. Useful for recursive functions with overlapping subproblems.', NULL),
    (6, 'What is the difference between process and thread?', 'Process is independent execution unit with own memory; thread shares memory within process', 'hard', 'Processes isolated, heavyweight. Threads lightweight, share address space. Threads enable parallelism without IPC overhead.', NULL),
    (6, 'What is a heap data structure?', 'A tree-based structure where parent nodes have priority over children (min-heap or max-heap)', 'medium', 'Used for priority queues. Root is minimum (min-heap) or maximum (max-heap). O(log n) insert/delete, O(1) find min/max.', NULL),
    (6, 'What is two-pointer technique?', 'Algorithm pattern using two pointers to iterate through data structure', 'medium', 'Common patterns: slow/fast pointers, opposite ends moving inward. Used for arrays, linked lists. Example: finding pairs, palindrome check.', NULL),
    (6, 'What is a trie data structure?', 'Tree-like structure for storing strings, where each path represents a word', 'hard', 'Also called prefix tree. Efficient for autocomplete, spell check, IP routing. O(m) operations where m is string length, not data size.', NULL),
    (6, 'What is greedy algorithm?', 'Makes locally optimal choice at each step hoping to find global optimum', 'medium', 'Not always optimal but often efficient. Examples: Dijkstra''s algorithm, Huffman coding. Simpler than dynamic programming.', NULL),
    (6, 'What is the difference between DFS and BFS for graphs?', 'DFS goes deep exploring one branch fully; BFS explores all neighbors before going deeper', 'medium', 'DFS: uses stack, better for paths, topological sort. BFS: uses queue, finds shortest path, good for level-order traversal.', NULL),
    (6, 'What is amortized time complexity?', 'Average time per operation over a sequence of operations', 'hard', 'Example: dynamic array resize is O(n) but amortized O(1) per insert. Averages expensive operations over many cheap ones.', NULL),
    (6, 'What is a deadlock and how to prevent it?', 'Situation where processes wait indefinitely for resources held by each other', 'hard', 'Four conditions: mutual exclusion, hold and wait, no preemption, circular wait. Prevent by breaking any condition, use timeouts.', NULL);

-- Flashcards for SRE & Observability (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (7, 'What are the three pillars of observability?', 'Logs, Metrics, and Traces', 'easy', 'Logs provide detailed event records, Metrics show aggregated measurements, Traces track requests across services.', NULL),
    (7, 'What is an SLI (Service Level Indicator)?', 'A quantitative measure of a service''s behavior, such as request latency or error rate', 'medium', 'SLIs are the raw measurements used to calculate SLOs. Examples: 95th percentile latency, success rate.', NULL),
    (7, 'What is the difference between SLO and SLA?', 'SLO is an internal target for service performance; SLA is a contractual agreement with consequences', 'medium', 'SLO (Service Level Objective) sets internal goals. SLA (Service Level Agreement) has legal/financial penalties.', NULL),
    (7, 'What is an error budget?', 'The allowed amount of downtime or errors before violating an SLO', 'medium', 'Calculated as (1 - SLO). For 99.9% SLO, error budget is 0.1%, allowing ~43 min downtime/month.', NULL),
    (7, 'What is the RED method for monitoring microservices?', 'Rate, Errors, and Duration', 'medium', 'Rate: requests per second. Errors: failed requests per second. Duration: response time distribution.', NULL),
    (7, 'What are the four golden signals of monitoring?', 'Latency, Traffic, Errors, and Saturation', 'medium', 'From Google SRE book. Latency: response time. Traffic: demand. Errors: failure rate. Saturation: resource utilization.', NULL),
    (7, 'What is an SLO (Service Level Objective)?', 'A target value or range for a service level measured by an SLI', 'medium', 'Example: 99.9% of requests complete in <100ms. SLO is internal goal, SLA is external agreement with consequences.', NULL),
    (7, 'What is the difference between metrics, logs, and traces?', 'Metrics are numerical measurements over time; logs are event records; traces follow requests across services', 'medium', 'Metrics for dashboards/alerts (Prometheus). Logs for debugging (ELK). Traces for distributed systems (Jaeger).', NULL),
    (7, 'What is an error budget?', 'The allowed amount of downtime or errors before SLO is breached', 'hard', 'If SLO is 99.9%, error budget is 0.1%. Used to balance reliability vs feature velocity. No budget = feature freeze.', NULL),
    (7, 'What is the RED method?', 'Rate, Errors, Duration - key metrics for request-driven services', 'medium', 'Rate: requests per second. Errors: error rate or count. Duration: latency percentiles (p50, p95, p99).', NULL),
    (7, 'What is the USE method?', 'Utilization, Saturation, Errors - for resource monitoring', 'medium', 'For each resource (CPU, memory, disk, network): check utilization (%), saturation (queue length), errors (error count).', NULL),
    (7, 'What is distributed tracing?', 'Tracking a request as it flows through multiple services in a microservices architecture', 'hard', 'Each service adds span to trace. Shows service dependencies, latency breakdown. Tools: Jaeger, Zipkin, OpenTelemetry.', NULL),
    (7, 'What is a Service Level Indicator (SLI)?', 'A quantitative measure of a service level (e.g., latency, availability, error rate)', 'easy', 'SLIs are the actual measurements. SLOs are the targets for SLIs. Example SLI: % of requests completed in <100ms.', NULL),
    (7, 'What is the difference between white-box and black-box monitoring?', 'White-box monitors internal state and metrics; black-box monitors from user perspective', 'medium', 'White-box: internal metrics like CPU, DB queries. Black-box: external probes testing actual user experience.', NULL),
    (7, 'What is Prometheus and how does it work?', 'A time-series database and monitoring system that scrapes metrics from targets at intervals', 'medium', 'Pull-based model. Targets expose /metrics endpoint. PromQL for querying. Alertmanager for alerts. Grafana for visualization.', NULL),
    (7, 'What is the difference between monitoring and observability?', 'Monitoring watches known failure modes; observability understands system from outputs', 'hard', 'Monitoring: predefined metrics/alerts. Observability: arbitrary questions about system state. Observability includes logs, metrics, traces.', NULL),
    (7, 'What is a percentile in performance metrics?', 'Value below which a percentage of observations fall', 'medium', 'p50 (median), p95, p99 commonly used. p99 = 99% of requests faster. Better than average for understanding user experience.', NULL),
    (7, 'What is alerting fatigue?', 'Desensitization to alerts due to too many false positives', 'easy', 'Causes: noisy alerts, low thresholds, alert storms. Solutions: better thresholds, alert grouping, runbook links, escalation.', NULL),
    (7, 'What is a runbook?', 'Step-by-step guide for handling operational tasks or incidents', 'easy', 'Documents procedures for common issues. Includes investigation steps, remediation actions, escalation paths. Reduces MTTR.', NULL),
    (7, 'What is mean time to recovery (MTTR)?', 'Average time to restore service after an incident', 'medium', 'Key reliability metric. Lower is better. Related: MTTD (detect), MTTF (failure), MTBF (between failures). Focus on detection and automation.', NULL),
    (7, 'What is cardinality in metrics?', 'Number of unique time series for a metric based on label combinations', 'hard', 'High cardinality (many unique labels) impacts performance and storage. Avoid user IDs in labels. Limit tag combinations.', NULL),
    (7, 'What is log aggregation?', 'Collecting logs from multiple sources into centralized system', 'medium', 'Benefits: centralized search, correlation, retention. Tools: ELK stack, Splunk, Loki. Challenges: volume, cost, sensitive data.', NULL),
    (7, 'What is synthetic monitoring?', 'Proactive monitoring using simulated transactions or user flows', 'medium', 'Tests system availability and performance from external perspective. Complements real user monitoring (RUM). Catches issues before users.', NULL),
    (7, 'What is a service mesh?', 'Infrastructure layer providing service-to-service communication, observability, and security', 'hard', 'Examples: Istio, Linkerd. Features: traffic management, mutual TLS, observability. Trade-off: complexity vs capabilities.', NULL),
    (7, 'What is on-call rotation?', 'Schedule where engineers take turns being responsible for incidents', 'easy', 'Best practices: fair rotation, manageable load, escalation paths, retrospectives. On-call compensation, avoid burnout.', NULL);

-- Flashcards for Networking (24 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (8, 'What is the difference between TCP and UDP?', 'TCP is connection-oriented and reliable; UDP is connectionless and faster but unreliable', 'easy', 'TCP guarantees delivery with error checking and retransmission. UDP is used for speed-critical applications like video streaming.', NULL),
    (8, 'What does DNS do?', 'Domain Name System translates human-readable domain names to IP addresses', 'easy', 'DNS is a distributed hierarchical system. Queries typically use UDP port 53. Results are often cached.', NULL),
    (8, 'What are the layers of the OSI model?', 'Physical, Data Link, Network, Transport, Session, Presentation, Application', 'medium', 'Mnemonic: "Please Do Not Throw Sausage Pizza Away". Each layer has specific protocols and responsibilities.', NULL),
    (8, 'What is a subnet mask?', 'A 32-bit number that divides an IP address into network and host portions', 'medium', 'Example: 255.255.255.0 (/24) means first 24 bits are network, last 8 bits are host addresses.', NULL),
    (8, 'What is the purpose of the ARP protocol?', 'Address Resolution Protocol maps IP addresses to MAC addresses on a local network', 'medium', 'ARP allows devices to discover the physical address (MAC) associated with an IP address on the same network segment.', NULL),
    (8, 'What is the difference between TCP and UDP?', 'TCP is connection-oriented with guaranteed delivery; UDP is connectionless with no guarantees', 'medium', 'TCP: reliable, ordered, slower (HTTP, SSH). UDP: fast, no overhead, allows packet loss (DNS, video streaming).', NULL),
    (8, 'What are the layers of the OSI model?', 'Physical, Data Link, Network, Transport, Session, Presentation, Application', 'hard', 'Mnemonic: Please Do Not Throw Sausage Pizza Away. Layer 1-7. TCP/IP model combines some layers.', NULL),
    (8, 'What is DNS and how does it work?', 'Domain Name System translates domain names to IP addresses using hierarchical lookups', 'medium', 'Client queries recursive resolver ‚Üí root servers ‚Üí TLD servers ‚Üí authoritative nameserver. Cached at multiple levels.', NULL),
    (8, 'What is the difference between a hub, switch, and router?', 'Hub broadcasts to all ports; switch learns MAC addresses and forwards to specific port; router connects networks using IP', 'medium', 'Hub: Layer 1, dumb broadcast. Switch: Layer 2, MAC-based forwarding. Router: Layer 3, IP routing between networks.', NULL),
    (8, 'What is CIDR notation?', 'Classless Inter-Domain Routing notation for specifying IP address ranges (e.g., 192.168.1.0/24)', 'medium', '/24 means first 24 bits are network, last 8 bits are hosts (256 addresses). /16 = 65,536 addresses, /32 = single address.', NULL),
    (8, 'What is a subnet mask?', 'A 32-bit number that divides an IP address into network and host portions', 'medium', '255.255.255.0 = /24 subnet. ANDing IP with mask gives network address. Defines network size and number of hosts.', NULL),
    (8, 'What is ARP (Address Resolution Protocol)?', 'Protocol that maps IP addresses to MAC addresses on a local network', 'hard', 'Device broadcasts "Who has IP X?" on LAN. Device with that IP responds with MAC address. Cached in ARP table.', NULL),
    (8, 'What is the three-way handshake in TCP?', 'SYN ‚Üí SYN-ACK ‚Üí ACK - establishes TCP connection', 'medium', 'Client sends SYN, server responds SYN-ACK, client sends ACK. Establishes sequence numbers for reliable communication.', NULL),
    (8, 'What is NAT (Network Address Translation)?', 'Translates private IP addresses to public IP addresses for internet communication', 'medium', 'Allows multiple devices to share one public IP. Router maintains translation table. Types: SNAT (source), DNAT (destination).', NULL),
    (8, 'What is the difference between a stateful and stateless firewall?', 'Stateful tracks connection state; stateless examines each packet independently', 'hard', 'Stateful: knows if packet is part of established connection, more secure. Stateless: faster, simpler rules, less memory.', NULL),
    (8, 'What is a proxy server?', 'Intermediary server that forwards requests between client and server', 'medium', 'Forward proxy (client-side): privacy, caching. Reverse proxy (server-side): load balancing, SSL termination. Examples: Squid, nginx.', NULL),
    (8, 'What is SSL/TLS?', 'Cryptographic protocols for secure communication over networks', 'medium', 'SSL deprecated, TLS current. Provides encryption, authentication, integrity. Handshake establishes keys. Certificate verifies identity.', NULL),
    (8, 'What is the difference between port 80 and 443?', 'Port 80 is HTTP (unencrypted); port 443 is HTTPS (encrypted)', 'easy', 'Well-known ports. 80: plain HTTP. 443: HTTP over TLS/SSL. Modern web uses 443. Port 8080 common for HTTP alternatives.', NULL),
    (8, 'What is a VLAN?', 'Virtual LAN that segments a physical network into logical networks', 'hard', 'Separates broadcast domains. Improves security and performance. Tagged with VLAN ID (802.1Q). Switch ports assigned to VLANs.', NULL),
    (8, 'What is the purpose of the ping command?', 'Tests connectivity and measures round-trip time using ICMP echo', 'easy', 'Sends ICMP echo request, expects echo reply. Shows packet loss, latency. May be blocked by firewalls. IPv4: ping, IPv6: ping6', NULL),
    (8, 'What is a MAC address?', 'Hardware address uniquely identifying network interface (48-bit)', 'easy', 'Physical address burned into NIC. Format: 6 hex octets (00:1A:2B:3C:4D:5E). First 3 octets identify manufacturer (OUI).', NULL),
    (8, 'What is QoS (Quality of Service)?', 'Techniques to manage network resources and prioritize traffic', 'hard', 'Prioritizes critical traffic (VoIP, video) over bulk data. Mechanisms: traffic shaping, policing, queuing. Used in WANs, VoIP.', NULL),
    (8, 'What is the difference between IPv4 and IPv6?', 'IPv4 uses 32-bit addresses; IPv6 uses 128-bit addresses', 'medium', 'IPv4: 4.3 billion addresses, dotted decimal. IPv6: vast address space, colon-hex notation. IPv6 includes IPsec, no NAT needed.', NULL),
    (8, 'What is DHCP?', 'Dynamic Host Configuration Protocol that automatically assigns IP addresses', 'easy', 'Automates network configuration. DORA process: Discover, Offer, Request, Acknowledge. Leases addresses for time period.', NULL);

-- Flashcards for SQL (25 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (9, 'What is the difference between INNER JOIN and LEFT JOIN?', 'INNER JOIN returns only matching rows; LEFT JOIN returns all left table rows plus matches', 'easy', 'LEFT JOIN includes nulls for non-matching right table rows. RIGHT JOIN is the opposite.', NULL),
    (9, 'How do you find duplicate rows based on a column?', 'SELECT column, COUNT(*) FROM table GROUP BY column HAVING COUNT(*) > 1', 'medium', 'HAVING filters grouped results. GROUP BY aggregates rows. This pattern finds duplicates in any column.', NULL),
    (9, 'What does the EXPLAIN command do?', 'Shows the execution plan for a query, revealing how the database will execute it', 'medium', 'EXPLAIN helps identify performance issues like missing indexes, full table scans, or inefficient joins.', NULL),
    (9, 'What is the difference between WHERE and HAVING?', 'WHERE filters rows before grouping; HAVING filters after aggregation', 'medium', 'WHERE operates on individual rows. HAVING operates on grouped results and can use aggregate functions.', NULL),
    (9, 'What is a database index?', 'A data structure that improves query performance by allowing faster data retrieval', 'easy', 'Indexes speed up SELECT queries but slow down INSERT/UPDATE/DELETE. Trade-off between read and write performance.', NULL),
    (9, 'What is the difference between WHERE and HAVING?', 'WHERE filters rows before grouping; HAVING filters groups after grouping', 'medium', 'WHERE works on individual rows, HAVING works on aggregated results. Use WHERE for row conditions, HAVING for aggregate conditions.', NULL),
    (9, 'What is a primary key?', 'A column or set of columns that uniquely identifies each row in a table', 'easy', 'Must be unique and NOT NULL. Only one primary key per table. Auto-indexed for performance. Often uses AUTO_INCREMENT.', NULL),
    (9, 'What is the difference between INNER JOIN and LEFT JOIN?', 'INNER JOIN returns only matching rows; LEFT JOIN returns all left table rows plus matches', 'medium', 'INNER: intersection only. LEFT: all from left + matches from right (NULL for no match). Also: RIGHT JOIN, FULL OUTER JOIN.', NULL),
    (9, 'What is an index and why use it?', 'A data structure that improves query performance by allowing faster data retrieval', 'medium', 'Trade-off: faster SELECT queries vs slower INSERT/UPDATE/DELETE. Use on frequently queried columns. B-tree is common structure.', NULL),
    (9, 'What is a foreign key?', 'A column that references the primary key of another table, enforcing referential integrity', 'medium', 'Ensures values exist in referenced table. Prevents orphaned records. ON DELETE CASCADE/SET NULL defines behavior.', NULL),
    (9, 'What is the difference between DELETE and TRUNCATE?', 'DELETE removes rows one by one (can rollback); TRUNCATE drops and recreates table (faster, can''t rollback)', 'medium', 'DELETE fires triggers, can have WHERE clause, logs each row. TRUNCATE resets auto-increment, is DDL not DML.', NULL),
    (9, 'What is a transaction and what are ACID properties?', 'A unit of work that must be Atomic, Consistent, Isolated, Durable', 'hard', 'Atomic: all or nothing. Consistent: valid state. Isolated: concurrent transactions don''t interfere. Durable: persisted after commit.', NULL),
    (9, 'What is normalization?', 'Organizing database structure to reduce redundancy and improve data integrity', 'hard', '1NF: atomic values. 2NF: no partial dependencies. 3NF: no transitive dependencies. Higher forms exist but 3NF is common.', NULL),
    (9, 'What is a subquery?', 'A query nested inside another query', 'easy', 'Can be in SELECT, FROM, WHERE clauses. Use for complex filtering, derived tables, or EXISTS checks. Can impact performance.', NULL),
    (9, 'What is the difference between UNION and UNION ALL?', 'UNION removes duplicates; UNION ALL keeps all rows including duplicates', 'medium', 'UNION is slower (needs to check duplicates). UNION ALL is faster. Both require same number and compatible types of columns.', NULL),
    (9, 'What is a view in SQL?', 'Virtual table based on a SELECT query', 'medium', 'Simplifies complex queries, provides abstraction, security. Materialized views cache results. Updated views may have restrictions.', NULL),
    (9, 'What is the GROUP BY clause used for?', 'Groups rows sharing a property for aggregate functions', 'easy', 'Used with COUNT, SUM, AVG, MAX, MIN. Must include all non-aggregated columns. Filter groups with HAVING, not WHERE.', NULL),
    (9, 'What is a stored procedure?', 'Precompiled SQL code saved in database that can be reused', 'medium', 'Benefits: performance, security, code reuse. Can have parameters, logic, transactions. Language varies by DB (PL/SQL, T-SQL).', NULL),
    (9, 'What is the difference between CHAR and VARCHAR?', 'CHAR is fixed-length; VARCHAR is variable-length', 'easy', 'CHAR pads with spaces, faster for fixed sizes. VARCHAR saves space for variable data. Use CHAR for codes, VARCHAR for names.', NULL),
    (9, 'What is a trigger?', 'Automatically executed procedure in response to database events', 'hard', 'Events: INSERT, UPDATE, DELETE. Timing: BEFORE, AFTER. Use cases: audit logs, validation, cascading updates. Can impact performance.', NULL),
    (9, 'What is the purpose of EXPLAIN in SQL?', 'Shows query execution plan to help optimize performance', 'medium', 'Reveals indexes used, join methods, estimated costs. Use to identify slow queries, missing indexes. Syntax varies by database.', NULL),
    (9, 'What is a composite key?', 'Primary key consisting of two or more columns', 'medium', 'Used when single column can''t uniquely identify row. Example: order_id + product_id for line items. All columns required for uniqueness.', NULL),
    (9, 'What is SQL injection?', 'Security vulnerability where malicious SQL is inserted into queries', 'hard', 'Caused by unsanitized user input. Prevention: parameterized queries, prepared statements, input validation, ORMs. Critical security issue.', NULL),
    (9, 'What is the difference between RANK and DENSE_RANK?', 'RANK skips numbers after ties; DENSE_RANK doesn''t skip', 'hard', 'Both assign ranks to rows. RANK: 1,2,2,4. DENSE_RANK: 1,2,2,3. ROW_NUMBER always unique. Window functions.', NULL),
    (9, 'What is a clustered vs non-clustered index?', 'Clustered defines physical order of data; non-clustered is separate structure', 'hard', 'One clustered index per table (usually PK). Multiple non-clustered indexes possible. Clustered faster for range queries.', NULL);

-- Flashcards for System Design (53 cards)
INSERT INTO flashcards (category_id, question, answer, difficulty, explanation, code_snippet) VALUES
    (10, 'What is horizontal vs vertical scaling?', 'Horizontal: add more machines; Vertical: add more resources to existing machines', 'easy', 'Horizontal (scale out) is more flexible and fault-tolerant. Vertical (scale up) has hardware limits.', NULL),
    (10, 'What is CAP theorem?', 'A distributed system can only guarantee 2 of 3: Consistency, Availability, Partition tolerance', 'hard', 'In practice, partition tolerance is required, so choice is between Consistency (CP) or Availability (AP).', NULL),
    (10, 'What is the purpose of a load balancer?', 'Distributes incoming traffic across multiple servers to improve availability and performance', 'easy', 'Load balancers prevent overload, enable horizontal scaling, and provide failover. Types: Layer 4 (TCP) or Layer 7 (HTTP).', NULL),
    (10, 'What is database sharding?', 'Partitioning data across multiple databases to distribute load and improve scalability', 'medium', 'Each shard contains a subset of data. Sharding key determines data distribution. Adds complexity but enables massive scale.', NULL),
    (10, 'What is eventual consistency?', 'A consistency model where updates propagate to all nodes over time, but reads may return stale data', 'medium', 'Common in distributed systems prioritizing availability. Contrast with strong consistency which guarantees immediate consistency.', NULL),
    (10, 'What is horizontal vs vertical scaling?', 'Horizontal adds more machines; vertical adds more power to existing machine', 'easy', 'Horizontal (scale out): distributed, unlimited growth, complex. Vertical (scale up): simpler, hardware limits, single point of failure.', NULL),
    (10, 'What is a load balancer?', 'Distributes incoming network traffic across multiple servers to ensure availability and reliability', 'medium', 'Algorithms: round-robin, least connections, IP hash. Provides high availability, health checks, SSL termination. Layer 4 or Layer 7.', NULL),
    (10, 'What is database replication?', 'Copying data from one database to others for redundancy and performance', 'medium', 'Master-slave: writes to master, reads from replicas. Multi-master: writes to any. Trade-offs: consistency vs availability.', NULL),
    (10, 'What is eventual consistency?', 'A consistency model where data eventually becomes consistent across all nodes', 'hard', 'Prioritizes availability over immediate consistency. Common in distributed systems (DynamoDB, Cassandra). Conflicts resolved later.', NULL),
    (10, 'What is a CDN (Content Delivery Network)?', 'A distributed network of servers that delivers content from locations closest to users', 'medium', 'Caches static assets (images, CSS, JS) at edge locations worldwide. Reduces latency, bandwidth, and server load.', NULL),
    (10, 'What is the difference between caching and CDN?', 'Caching stores frequently accessed data in memory; CDN is geographically distributed content storage', 'medium', 'Cache: application-level (Redis, Memcached), dynamic data. CDN: network-level, static content, geographic distribution.', NULL),
    (10, 'What is database sharding?', 'Partitioning data across multiple databases to distribute load', 'hard', 'Horizontal partitioning by shard key (e.g., user_id % N). Improves scalability but adds complexity: cross-shard queries, rebalancing.', NULL),
    (10, 'What is the purpose of a message queue?', 'Asynchronous communication between services, decoupling producers and consumers', 'medium', 'Benefits: load leveling, fault tolerance, guaranteed delivery. Examples: RabbitMQ, Kafka, SQS. Trade-off: eventual processing.', NULL),
    (10, 'What is the difference between microservices and monolith?', 'Microservices split application into small independent services; monolith is a single deployable unit', 'medium', 'Microservices: independent scaling/deployment, complex networking. Monolith: simpler to develop, harder to scale, single deployment.', NULL),
    (10, 'What is idempotency and why is it important?', 'An operation that produces the same result no matter how many times it is performed', 'hard', 'Critical for retries and distributed systems. GET, PUT, DELETE are idempotent. POST usually is not. Use idempotency keys for POST.', NULL),
    (10, 'What is caching strategy and name common types?', 'Method to store and retrieve cached data; types: write-through, write-back, write-around, cache-aside', 'hard', 'Write-through: sync write to cache and DB. Write-back: async write. Write-around: skip cache. Cache-aside: app manages cache.', NULL),
    (10, 'What is the difference between SQL and NoSQL?', 'SQL is relational with schema; NoSQL is non-relational, schema-less', 'medium', 'SQL: ACID, joins, structured (Postgres, MySQL). NoSQL: flexible schema, horizontal scaling, eventual consistency (MongoDB, Cassandra).', NULL),
    (10, 'What is rate limiting?', 'Controlling the rate of requests to protect services from overload', 'medium', 'Algorithms: token bucket, leaky bucket, fixed/sliding window. Prevents abuse, ensures fair usage, protects resources.', NULL),
    (10, 'What is the purpose of an API gateway?', 'Single entry point for API requests providing routing, security, and rate limiting', 'medium', 'Functions: authentication, rate limiting, request routing, response aggregation, logging. Examples: Kong, AWS API Gateway.', NULL),
    (10, 'What is data replication vs data partitioning?', 'Replication copies data to multiple nodes; partitioning splits data across nodes', 'hard', 'Replication: redundancy, availability, read scaling. Partitioning: write scaling, distributes load. Often used together.', NULL),
    (10, 'What is a circuit breaker pattern?', 'Prevents cascading failures by stopping requests to failing services', 'hard', 'States: closed (normal), open (failing), half-open (testing). Fails fast instead of waiting. Provides fallback responses.', NULL),
    (10, 'What is the difference between push and pull in messaging?', 'Push sends data to consumers; pull has consumers request data', 'medium', 'Push: real-time, complex flow control. Pull: consumer-controlled rate, simpler. Examples: WebSockets (push), polling (pull).', NULL),
    (10, 'What is database indexing strategy?', 'Choosing which columns to index based on query patterns', 'hard', 'Index columns used in WHERE, JOIN, ORDER BY. Trade-off: read vs write performance. Monitor query plans, avoid over-indexing.', NULL),
    (10, 'What is the twelve-factor app methodology?', 'Best practices for building modern, scalable web applications', 'hard', 'Principles: codebase, dependencies, config, backing services, build/release/run, processes, port binding, concurrency, disposability, dev/prod parity, logs, admin processes.', NULL),
    (10, 'What is blue-green deployment?', 'Deployment strategy maintaining two identical environments, switching traffic between them', 'medium', 'Blue: current version. Green: new version. Test green, switch traffic, keep blue for rollback. Minimizes downtime, easy rollback.', NULL),
    (10, 'What are the main problems that pagination solves in large-scale system design?', 'Pagination solves four critical problems: 1) Prevents server overload by avoiding processing massive result sets, 2) Prevents client crashes from handling too much data at once, 3) Uses network bandwidth efficiently, and 4) Provides users with a smooth, responsive experience by loading data incrementally.', 'easy', 'This is a fundamental concept in system design interviews. Understanding why pagination exists helps you make better architectural decisions. When discussing APIs like Twitter or Instagram feeds, being able to articulate these benefits shows you understand the practical constraints of distributed systems.', NULL),
    (10, 'Explain offset-based pagination and its primary performance drawback with an example.', 'Offset-based pagination uses a LIMIT and OFFSET to skip a certain number of rows and return the next set. For example: ''SELECT * FROM posts ORDER BY created_at DESC LIMIT 10 OFFSET 20''. The main drawback is that performance degrades with large offsets - if a user is on page 1,000, the database must scan and skip 10,000 rows before returning results, making it inefficient for deep pagination.', 'medium', 'This is a common interview topic because offset pagination is intuitive but has hidden scalability issues. Interviewers want to see if you understand that what seems simple can become a bottleneck at scale. This knowledge differentiates candidates who have dealt with real production systems.', 'SELECT * FROM posts ORDER BY created_at DESC LIMIT 10 OFFSET 20;'),
    (10, 'How does cursor-based pagination work and why is it more scalable than offset-based pagination?', 'Cursor-based pagination uses an encoded pointer representing the position of the last item returned. The API response includes a next_cursor for the subsequent request. It''s more scalable because it uses indexed fields to filter directly to the needed position rather than counting offsets. This provides consistent performance regardless of pagination depth.', 'medium', 'Cursor-based pagination is the industry standard for infinite scroll feeds. Understanding this pattern is crucial for interviews at companies like Facebook, Twitter, or Instagram. It demonstrates knowledge of how modern APIs maintain performance at scale.', 'GET /api/feed?limit=10&cursor=eyJpZCI6MTAwfQ=='),
    (10, 'Implement a cursor-based pagination function that returns posts with proper cursor encoding for the next page.', 'The function should: 1) Decode the cursor to get the last seen post''s timestamp and ID if provided, 2) Query posts using a WHERE clause with indexed fields (created_at, id) less than the cursor values, 3) Return posts with a next_cursor encoded from the last post''s attributes, or None if no more results exist.', 'hard', 'This tests your ability to implement cursor pagination in practice. The key insight is using composite conditions (timestamp, id) in the WHERE clause with indexed fields for efficient queries. This pattern is commonly asked in coding interviews for backend positions at companies building social feeds.', 'def get_feed(limit=10, cursor=None):
    if cursor:
        last_post = decode_cursor(cursor)
        query = """
            SELECT * FROM posts
            WHERE (created_at, id) < (:timestamp, :id)
            ORDER BY created_at DESC, id DESC
            LIMIT :limit
        """
    else:
        query = "SELECT * FROM posts ORDER BY created_at DESC, id DESC LIMIT :limit"
    
    posts = execute_query(query)
    next_cursor = encode_cursor({
        "timestamp": posts[-1].created_at,
        "id": posts[-1].id
    }) if posts else None
    
    return {
        "posts": posts,
        "pagination": {"next_cursor": next_cursor}
    }'),
    (10, 'What is keyset pagination and when is it particularly useful?', 'Keyset pagination uses specific field values (often timestamps) directly as pagination markers, such as ''GET /api/messages?limit=50&before=2024-03-15T00:00:00Z''. It''s particularly useful for time-series data like chat systems or activity feeds, especially when combined with database indexes on timestamp fields for optimal performance.', 'medium', 'Keyset pagination is a specialized optimization that shows deep understanding of database performance. It''s especially relevant for real-time systems where data is naturally ordered by time. Mentioning this in interviews demonstrates you can optimize beyond standard patterns.', 'CREATE INDEX idx_messages_timestamp ON messages(created_at DESC);'),
    (10, 'Compare the performance characteristics of offset vs cursor pagination using SQL examples. Why does offset pagination degrade?', 'Offset pagination (LIMIT 10 OFFSET 1000000) must scan 1 million rows even though it only returns 10, causing performance to degrade linearly with offset size. Cursor pagination (WHERE id < :last_seen_id LIMIT 10) uses an index to jump directly to the position, providing consistent O(1) seek time regardless of depth. The database can use the index to find the starting point without scanning previous rows.', 'hard', 'This question tests deep understanding of database internals and index usage. Strong candidates explain the difference between sequential scanning (offset) and index seeks (cursor). This knowledge is critical for senior positions where you need to make performance-critical architectural decisions.', '-- Bad: Performance degrades with offset
SELECT * FROM posts LIMIT 10 OFFSET 1000000

-- Good: Consistent performance with cursors
SELECT * FROM posts WHERE id < :last_seen_id LIMIT 10'),
    (10, 'What consistency issue can arise during pagination when new items are added, and which pagination strategy handles it best?', 'When new items are added to the dataset while a user is paginating, offset-based pagination can cause items to shift, leading to duplicates or skipped items across pages. Cursor-based pagination handles this elegantly by maintaining a consistent view - it marks a specific position in the dataset and continues from there regardless of new items added before that position.', 'medium', 'This is a subtle but important consideration in system design. It tests whether you think about edge cases and real-world scenarios. In production systems like social feeds, content is constantly being added, so this consistency guarantee is crucial for good user experience.', NULL),
    (10, 'Design an API response structure for paginated data that includes helpful metadata for clients.', 'A well-designed pagination response should include: 1) A ''data'' field with the actual results, 2) A ''pagination'' object containing ''next_cursor'' for the next request, 3) A ''has_more'' boolean indicating if more results exist. This structure provides clients with all information needed to implement seamless pagination without additional requests.', 'medium', 'Good API design is a key interview topic. This question tests whether you think about the client experience and API usability. Including metadata like ''has_more'' prevents clients from making unnecessary requests when they''ve reached the end of results.', '{
  "data": [
    /* posts */
  ],
  "pagination": {
    "next_cursor": "eyJpZCI6MTAwfQ==",
    "has_more": true
  }
}'),
    (10, 'In a system design interview, how would you justify choosing cursor-based pagination for a social media feed versus offset pagination for an admin dashboard?', 'For a social media feed, choose cursor-based pagination because: users scroll through thousands of posts requiring consistent performance at any depth, data changes frequently requiring consistency guarantees, and page numbers aren''t meaningful. For an admin dashboard, offset pagination is acceptable because: dataset sizes are smaller, users need specific page numbers for navigation, performance at moderate offsets is sufficient, and implementation is simpler.', 'hard', 'This question tests your ability to make context-appropriate architectural decisions and articulate tradeoffs - a key skill in system design interviews. Strong candidates don''t just know different approaches but can explain when and why to use each based on specific requirements, scale, and user experience considerations.', NULL),
    (10, 'What is the primary difference between API keys and JWTs in terms of authentication scope?', 'API keys authenticate applications (not users), while JWTs authenticate users and can contain user-specific claims like roles and permissions. API keys identify which service is making requests, whereas JWTs provide user context and authorization information.', 'easy', 'This is a fundamental distinction that affects how you design authentication. API keys are for service-to-service authentication and rate limiting, while JWTs are for user authentication in distributed systems.', NULL),
    (10, 'Explain the main scaling challenge with session-based authentication and how it can be addressed.', 'Sessions require server-side storage, making horizontal scaling difficult because session data must be shared across multiple servers. This is addressed by using centralized storage like Redis instead of in-memory sessions, allowing any server to access session data. However, this introduces the shared storage as a critical dependency.', 'medium', 'Reddit''s migration from in-memory to Redis-backed sessions is a real-world example. This pattern is common when moving from monolithic to distributed architectures.', NULL),
    (10, 'What is the JWT revocation problem and what are the common solutions?', 'Since JWTs are self-contained and validated cryptographically without database lookups, they cannot be immediately invalidated like sessions. Common solutions include: (1) using short expiration times (5-15 minutes for high-risk apps, 15-60 minutes for typical web apps) with refresh tokens, and (2) maintaining token blacklists for critical scenarios like logout or security incidents.', 'hard', 'This is a critical security consideration when choosing JWTs. The stateless nature that makes them scalable also makes them harder to revoke, requiring careful TTL design and potential hybrid approaches.', NULL),
    (10, 'How does GitHub''s API rate limiting demonstrate the practical use of API keys?', 'GitHub provides 5,000 requests per hour for authenticated requests with valid API keys, compared to only 60 requests per hour for anonymous requests. This shows how API keys enable per-application rate limiting and usage tracking.', 'easy', 'This demonstrates a key use case for API keys: differentiating between applications and enforcing appropriate resource limits based on application identity.', 'GET /v1/charges
Authorization: Bearer sk_test_[EXAMPLE_KEY_REDACTED]'),
    (10, 'What security measures should be implemented for session cookies in high-security applications like banking?', 'Banking applications should implement: (1) short session timeouts (15 minutes), (2) secure cookie flags including HttpOnly (prevents JavaScript access), Secure (HTTPS only), and SameSite (CSRF protection), and (3) immediate session invalidation on suspicious activity detection.', 'medium', 'These measures form defense-in-depth for session security. Each flag addresses different attack vectors: HttpOnly prevents XSS token theft, Secure prevents MITM attacks, and SameSite prevents CSRF attacks.', NULL),
    (10, 'When validating JWTs, what additional checks must be performed beyond signature verification?', 'Beyond signature verification, services must: (1) fetch and validate against public keys (JWKS) for signature verification, (2) validate the issuer (iss claim), (3) validate the audience (aud claim), (4) check expiration (exp claim) with clock skew tolerance, and (5) verify the token hasn''t been issued too far in the past (nbf claim).', 'hard', 'Simply verifying a signature is insufficient. These additional checks prevent token misuse across different services, replay attacks, and time-based vulnerabilities.', NULL),
    (10, 'What is a hybrid authentication approach and why do production systems use them?', 'Hybrid approaches combine multiple authentication methods for different use cases. For example, GitHub uses personal access tokens for REST API access, opaque OAuth tokens for authorization, and sessions for their web interface. This optimizes each authentication method for its specific requirements rather than forcing a single solution.', 'medium', 'Real-world systems rarely use a single authentication pattern. Different clients (web, mobile, API) and different security requirements benefit from different authentication strategies.', NULL),
    (10, 'Compare the immediate revocation capabilities of API keys, sessions, and JWTs.', 'Sessions offer excellent immediate revocation by deleting server-side session data. API keys offer easy revocation if server-checked against a database or cache. JWTs have complex revocation because they''re self-contained and validated locally‚Äîrequiring either short TTLs with refresh tokens or maintaining blacklists.', 'medium', 'This comparison is critical for security decisions. If immediate revocation is a requirement (e.g., compromised credentials), sessions or server-validated API keys are preferable to JWTs.', NULL),
    (10, 'Why should JWT tokens prefer role IDs over large permission sets, and what should be kept in sessions?', 'JWT tokens should use role IDs instead of large permission sets to avoid token bloat, which increases bandwidth and storage requirements. Sessions should store lightweight state like user ID, role IDs, and CSRF tokens, while referencing larger data from profile stores. This reduces memory pressure and simplifies invalidation.', 'medium', 'Token size directly impacts performance. Large JWTs increase network overhead on every request. Keeping sessions small improves cache efficiency and reduces the cost of session invalidation.', NULL),
    (10, 'Based on the decision factors table, which authentication pattern would you choose for a microservices architecture with mobile clients, and why?', 'JWT would be the best choice because it offers stateless authentication with local verification, excellent horizontal scaling without shared storage dependencies, and embedded user context. While it has complex revocation, this can be managed with appropriate TTLs (15-60 minutes for web, longer for mobile) and refresh token strategies. Sessions would require shared storage across all microservices, creating coupling and a critical dependency.', 'hard', 'This tests understanding of practical architecture decisions. Microservices benefit from stateless authentication to avoid tight coupling, and mobile clients benefit from longer-lived tokens to reduce authentication overhead.', NULL),
    (10, 'What is the key difference between RPS and QPS, and why do engineers often monitor QPS more closely in system design?', 'RPS (Requests Per Second) measures the total number of all requests received by a server, including static resources and dynamic content. QPS (Queries Per Second) specifically measures database queries executed per second. Engineers monitor QPS more closely because databases are often the most constrained part of the system, while stateless services handling web requests are easier to scale.', 'easy', 'Understanding this distinction is crucial for system design interviews. While RPS gives a broader picture of overall system load, QPS helps identify database bottlenecks, which are typically harder to scale than stateless application servers. Many engineers use these terms interchangeably in practice.', NULL),
    (10, 'You''re designing a system for a startup expecting 50 QPS. What architecture and technology stack would you recommend and why?', 'For 50 QPS (Low QPS: 1-100), a monolithic architecture is sufficient. Technology stack: Simple backend frameworks like Django (Python) or Express.js (Node.js), relational databases like PostgreSQL or MySQL, and single-instance infrastructure like AWS EC2 or DigitalOcean Droplet. This approach avoids unnecessary complexity while meeting the performance requirements.', 'medium', 'This tests the ability to match system requirements to appropriate architecture. Over-engineering at this stage wastes resources. The classic LAMP/LEMP stack (Linux, Apache/Nginx, MySQL, PHP/Python) or similar simple stacks are proven solutions for this scale.', NULL),
    (10, 'What architectural changes should be implemented when scaling from 100 QPS to 500 QPS (Medium QPS range)?', 'Transition from monolithic to modular/microservices architecture for independent scaling. Implement database strategies like sharding, replication, or read replicas. Add caching layer using Redis or Memcached. Use horizontal scaling with containerization (Docker) and orchestration tools (Kubernetes). Implement load balancing to distribute traffic efficiently.', 'medium', 'This range represents a critical transition point where simple vertical scaling becomes insufficient. The key is identifying and addressing bottlenecks through decoupling, caching, and horizontal scaling rather than just adding more CPU/RAM to a single server.', NULL),
    (10, 'For a system handling 50,000 QPS (High QPS), what are the essential architectural components you would implement?', 'Essential components include: (1) Fully implemented microservices for independent deployment and scaling, (2) Event-driven architecture with message queues like Kafka for buffering and decoupling, (3) Distributed data stores like Cassandra or MongoDB, (4) Heavy in-memory caching (Redis/Memcached) to reduce database load, (5) Container orchestration with Kubernetes, (6) Advanced load balancing, and (7) Real-time data streaming systems.', 'hard', 'At this scale, the architecture must be highly distributed and resilient. Message queues are critical for handling traffic spikes and preventing cascade failures. Caching becomes essential to prevent overwhelming the database layer. This is typical for large e-commerce platforms during peak events.', NULL),
    (10, 'Compare the database strategies needed for Medium QPS (100-1,000) versus High QPS (1,000-100,000) systems.', 'Medium QPS: Use read replicas for MySQL/PostgreSQL, implement basic caching with Redis, consider vertical scaling of database instances, and use simple sharding if needed. High QPS: Implement distributed databases (Cassandra, MongoDB), extensive multi-layer caching, horizontal sharding strategies, message queues for write buffering, and consider CQRS (Command Query Responsibility Segregation) patterns to separate read and write operations.', 'hard', 'This question tests understanding of progressive database scaling strategies. The key difference is that Medium QPS can still use traditional relational databases with optimization, while High QPS typically requires moving to distributed, NoSQL databases designed for horizontal scaling, along with more sophisticated data management patterns.', NULL),
    (10, 'What are the key architectural patterns required for Very High QPS (100,000+) systems like Netflix or Facebook?', 'Key patterns include: (1) Globally replicated databases across regions for low latency, (2) Multi-region deployments across multiple data centers, (3) Edge computing using CDNs to run code closer to users, (4) Serverless architecture for automatic scaling, (5) Multi-cloud environments for redundancy, (6) Extensive caching at multiple layers (browser, CDN, application, database), and (7) Advanced monitoring and auto-scaling mechanisms.', 'hard', 'At this scale, even small inefficiencies cause severe issues. The architecture must be globally distributed with redundancy at every level. Geographic distribution becomes critical for both performance (latency) and reliability (disaster recovery). Companies like Netflix pioneered many of these patterns, including chaos engineering to ensure resilience.', NULL),
    (10, 'Why do engineers say ''QPS'' when they often mean ''RPS'' in practice, and what should you clarify in a system design interview?', 'Engineers use QPS colloquially because databases are often the bottleneck and primary concern in system scaling. In interviews, you should clarify: (1) Whether the discussion is about total system requests (RPS) or database queries (QPS), (2) The ratio between RPS and QPS (one request might generate multiple queries), (3) Read vs write ratios, and (4) Whether static content is included in the metrics, as this affects CDN and caching strategies.', 'medium', 'This demonstrates practical communication skills essential in interviews. Understanding the context and clarifying terminology shows systems thinking. The RPS-to-QPS ratio is crucial for capacity planning: a single user request might trigger multiple database queries, or might hit cache and trigger zero queries.', NULL),
    (10, 'Design a caching strategy for a system transitioning from Medium QPS (500) to High QPS (5,000). What layers and technologies would you implement?', 'Implement multi-layer caching: (1) Browser caching for static assets (Cache-Control headers), (2) CDN caching for global content delivery, (3) Application-level caching with Redis for frequently accessed data (user sessions, product catalogs), (4) Database query caching for expensive queries, (5) Cache invalidation strategy (TTL-based or event-driven), (6) Cache warming for predictable access patterns, and (7) Circuit breakers to prevent cache stampede during failures.', 'hard', 'Effective caching is critical for scaling from medium to high QPS. Each layer serves different purposes: CDN reduces origin server load, application cache reduces database queries, and database cache optimizes query execution. The strategy must also handle cache invalidation and consistency to prevent serving stale data.', '// Example Redis caching pattern
const getCachedData = async (key) => {
  // Try cache first
  let data = await redis.get(key);
  
  if (data) {
    return JSON.parse(data);
  }
  
  // Cache miss - fetch from database
  data = await database.query(key);
  
  // Store in cache with TTL
  await redis.setex(key, 3600, JSON.stringify(data));
  
  return data;
};'),
    (10, 'In a system design interview, you''re told a service handles 10,000 QPS. What follow-up questions should you ask to properly design the system?', 'Critical follow-up questions: (1) Is this peak or average QPS? What''s the traffic pattern? (2) What''s the read-to-write ratio? (3) What''s the acceptable latency (p50, p95, p99)? (4) Are there geographic distribution requirements? (5) What''s the data size and growth rate? (6) What are the consistency requirements (eventual vs strong consistency)? (7) What''s the acceptable downtime/SLA? (8) Are there specific compliance or security requirements? (9) What''s the budget/cost constraint?', 'medium', 'This demonstrates that QPS alone is insufficient for system design. Traffic patterns matter: 10,000 QPS steady is different from spiky traffic. Read-heavy systems need different architectures than write-heavy ones. Latency requirements determine caching aggressiveness. These questions show mature systems thinking essential for senior engineering roles.', NULL);

